# films

# Функциональная часть
1. Добавление ***(через модальное окно)***
2. Удаление ***(значок удаления в хедере компонента Film)***
3. Показ информации о фильме  ***(по нажатию на кнопку Open инфомарцию можно посмотреть)***
4. Сортировка в алфовитном порядке ***(по нажатию на кнопку Sort a-z происходит сортировка)***
5. Поиск по названию ***(Search by title, 2-ой филд в хедере (нужно ввести полностью фильм, ищет по полному названию, не по подстроке) )***
6. Поиск по имени актера ***(Search by stars, 1-ый филд в хедере (нужно ввести полностью имя и фамилию актера, ищет не по подстроке))***
7. Имфорт фильмов из файла ***(Поле в футере, может по клику отправить файл, можно использовать drag'n'drop ))***

# Запуск
Не использовал .env, чтобы было легче запустить. Для запуска потребуется пару шагов
1) в папке client нужно выполнить 2 команды: (cd client)

```
 npm i
 npm start
```

2) в папке serber нужно выполнить 2 команды: (cd .. && cd server)

```
 npm i
 npm start
```
# Стек
Front-end

* React
* Redux
* Redux-thunk
* Material-UI
* Axios
* ***Enzyme, Chai, Mocha (tests)***

Back-end
* Node.js
* Express
* MongoDB

# Архитектура

Front-end

* actions - синхронные(action creators) и асинхронные экшены, 
* api - асинхронные запросы, отправка данных
* assets/fonts - шрифты
* components - dumb components, компоненты которые не следят за изменением стора
    * Action.js - Label и Button для ActionsBar где происходит создание и сортировка фильмов
    * App.js - wrapper всего приложения
    * Film.js - компонент с информацией о фильме
    * Header.js - логотип
    * Modal.js - модальное окно. Оно одно нна все приложение. Рендерится когда нажимает на создание фильма.
    * SearchField.js - Поля для поиска фильмов
* containers - smart components, компоненты, которые следят за изменением стора
    * ActionsBar.js - Блок в котором происходят разные события с фильмами
    * AddFilm.js - Создание фильма и его валидация
    * DragFile.js - Иморт фильмов(можно просто имортить файл, можно использовать drag'n'drop)
    * Films.js - Компонент который следит за фильмами.
    * Main.js - wrapper основноый части приложения
* hoc - Декораторы/компоненты высшего поярдка 
    * searchHoc - hoc для поиска фильмов. Встроен живой поиск, который ищет фильм после того как поле не изменялось несколько секунд(чтобы не было кучи запросов)    
* reducers - редьюсер, функция которая вычисляет следующее состояние стора.
    * filmsReducer - функция, которая высляет следующее значения для стора фильмов
    * rootReducer - результирующий редюсер вызывает вложенные редюсеры и собирает их результаты в единый объект состояния.    
* store -стор
    * сonfigureStore.js - настройка стора, создание
* styles - стили. scss модули.
* tests - тесты
* types - константы
* utils - остальное
    * styles - папка где хранятся шрифты и резет стилей
    * tests 
       * mountWithRedux - функция маунта компонента со стором для тестов 
    * hooks - хуки (need refactor) 
    * textValues - трансформация для полей обьекта при создании фильма

Back-end
* controllers - Логика
* middlewares - промежуточные оброботчики(только 1, для создания файла)
* models - модели для MongoDB
* routes - роуты
    * GET /films - подгрузка всех фильмов
    * POST /films - добавление фильма
    * DELETE /films/:id - удаление фильма по id
    * GET /films/sort/:type - сортировка фильма по типу. в приложение есть только в алфовитном порядке
    * POST /films/search/:how - (должен быть гет) поиск фильма. в приложении есть только по названию(title) и по актеру(star) 
    * POST /films/import - иморта файла для сохранения фильмов
* utils - вспомогательные функции, остальное. 
    * parseFile - чтение файла

# Ветка

```
 main
```